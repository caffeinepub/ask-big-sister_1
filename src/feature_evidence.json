{
  "kind": "feature_evidence_report",
  "features": [
    {
      "featureId": "feature-fix-the-authentication-gating-so-the-app-consistently-treats-a-user-as-logged-in-when-a-valid-internet-identity-is-already-loaded-from-storage-without-requiring-loginstatus-success-update-frontend-src-app-tsx-and-any-related-ui-logic-to-use-a-single-correct-definition-of-authenticated-based-on-the-presence-of-a-non-anonymous-identity-and-ensure-routing-profile-gate-behavior-works-after-page-reload",
      "featureTitle": "Fix the authentication gating so the app consistently treats a user as logged in when a valid Internet Identity is already loaded from storage (without requiring `loginStatus === \"success\"`). Update `frontend/src/App.tsx` and any related UI logic to use a single, correct definition of “authenticated” based on the presence of a non-anonymous identity, and ensure routing/profile-gate behavior works after page reload.",
      "files": [
        "frontend/src/App.tsx",
        "frontend/src/components/Header.tsx",
        "frontend/src/hooks/useAuth.ts",
        "frontend/src/pages/ConnectWallet.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-1"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-prevent-authenticated-profile-react-query-calls-from-running-in-an-unauthenticated-anonymous-state-and-handle-backend-authorization-traps-cleanly-update-frontend-src-hooks-usequeries-ts-so-usegetcalleruserprofile-and-wallet-related-queries-mutations-only-execute-when-the-user-is-truly-authenticated-and-ensure-errors-caused-by-missing-auth-e-g-unauthorized-traps-do-not-create-a-broken-login-loop-or-persistent-error-state",
      "featureTitle": "Prevent authenticated-profile React Query calls from running in an unauthenticated/anonymous state and handle backend authorization traps cleanly. Update `frontend/src/hooks/useQueries.ts` so `useGetCallerUserProfile` and wallet-related queries/mutations only execute when the user is truly authenticated, and ensure errors caused by missing auth (e.g., unauthorized traps) do not create a broken login loop or persistent error state.",
      "files": [
        "frontend/src/components/Header.tsx",
        "frontend/src/hooks/useQueries.ts"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-2"
      ],
      "confidence": "high"
    },
    {
      "featureId": "feature-fix-the-stone-match-3d-gameplay-glitching-by-stabilizing-stone-rendering-and-state-transitions-during-swaps-cascades-in-frontend-src-game-three-stonematch3dboard-tsx-and-related-match-3-state-management-eliminate-visual-flicker-jumping-caused-by-remounting-stones-e-g-unstable-react-keys-tied-to-changing-tile-ids-and-ensure-interaction-is-correctly-disabled-while-animations-state-transitions-are-in-progress",
      "featureTitle": "Fix the Stone Match 3D gameplay “glitching” by stabilizing stone rendering and state transitions during swaps/cascades. In `frontend/src/game/three/StoneMatch3DBoard.tsx` and related match-3 state management, eliminate visual flicker/jumping caused by remounting stones (e.g., unstable React keys tied to changing tile IDs) and ensure interaction is correctly disabled while animations/state transitions are in progress.",
      "files": [
        "frontend/src/game/match3/useMatch3Game.ts",
        "frontend/src/game/three/StoneMatch3DBoard.tsx"
      ],
      "components": [
        "authorization@4.0.0",
        "core-infrastructure@1.0.2",
        "shadcn-ui@1.0.0",
        "build-template-react@1.0.0",
        "initial-app@1.0.0",
        "github-export-icp-cli@1.0.0"
      ],
      "testIds": [
        "REQ-3"
      ],
      "confidence": "high"
    }
  ]
}